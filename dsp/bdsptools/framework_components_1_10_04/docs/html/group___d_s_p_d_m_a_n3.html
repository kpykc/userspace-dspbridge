<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Framework Components: DMAN3 (C64P)</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<table width=100%>
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border=0 src="tilogo.gif"></a></td>
  <td bgcolor="red"><img src="titagline.gif"></td>
</tr>
</table>
<!-- Generated by Doxygen 1.5.1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<h1>DMAN3 (C64P)</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
DMAN3 is an application interface to the 3rd generation DMA Manager. It provides routines for granting and reclaiming DMA resources used by algorithms or other non-algorithm users. This module is used by frameworks or applications which have XDAIS algorithms that implement the IDMA3 interface.<p>
<dl class="remark" compact><dt><b>Remarks:</b></dt><dd>For additional information, please refer to the "Joule DMA Framework Design and Reference Guide" document. </dd></dl>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_d_m_a_n3___params.html">DMAN3_Params</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The module configuration structure for DMAN3 implementation. It is set at design time by the system integrator to ensure optimal sharing of DMA resources for the execution environment.  <a href="struct_d_m_a_n3___params.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Defines: DMAN3 Status Codes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_s_p_d_m_a_n3.html#g462d3887266b42b69cf21c65e87dc99d">DMAN3_SOK</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_s_p_d_m_a_n3.html#g70d091dae946805ff49ab47b903483a7">DMAN3_EOUTOFMEMORY</a>&nbsp;&nbsp;&nbsp;-1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_s_p_d_m_a_n3.html#ge81e9235f9755ac2e6a6279401c8798d">DMAN3_EFAIL</a>&nbsp;&nbsp;&nbsp;-2</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_s_p_d_m_a_n3.html#g097f382f6603cc69c2d998c0ce6b9dfe">DMAN3_EFREE</a>&nbsp;&nbsp;&nbsp;-3</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_s_p_d_m_a_n3.html#gb04511fe9f738b3a189758163e75f1d2">DMAN3_EOUTOFTCCS</a>&nbsp;&nbsp;&nbsp;-4</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_s_p_d_m_a_n3.html#g45977d32b34b6e98e33b6510c9164dee">DMAN3_EOUTOFPARAMS</a>&nbsp;&nbsp;&nbsp;-5</td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_s_p_d_m_a_n3.html#gc5bb90e4340386e641863309330e4fb5">DMAN3_MAXDMARECS</a>&nbsp;&nbsp;&nbsp;32</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_s_p_d_m_a_n3.html#gb4a261c271c8d0f1e9843eada6b263e8">DMAN3_MAXGROUPS</a>&nbsp;&nbsp;&nbsp;20</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef Bool(*)&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_s_p_d_m_a_n3.html#gb88a4f4fc347844728e7c0d6b46c5ecf">DMAN3_ScratchAllocFxn</a> (<a class="el" href="struct_i_a_l_g___obj.html">IALG_Handle</a> alg, Int mutexId, <a class="el" href="struct_i_a_l_g___mem_rec.html">IALG_MemRec</a> *memTab, Int numRecs)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function prototype for allocating IDMA3 Object's env from shared scratch memory. Algorithms might specify a particular IDMA3 protocol that provides custom DMA services. This protocol might require extra memory for the IDMA3 object's environment. DMAN3_ScratchAllocFxn might be used to allocate this memory. If this is NULL, then the env will be allocated from persistent memory.  <a href="#gb88a4f4fc347844728e7c0d6b46c5ecf"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef Void(*)&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_s_p_d_m_a_n3.html#g5c51dee2c06d775005a8cf4db004782f">DMAN3_ScratchFreeFxn</a> (Int mutexId, Void *addr, Uns size)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function prototype for freeing IDMA3 Object's env from shared scratch memory. If this is NULL then env will be freed from persistent memory.  <a href="#g5c51dee2c06d775005a8cf4db004782f"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_s_p_d_m_a_n3.html#ge0e5031bc5e947da1bd5d12cca1c5e00">DMAN3_grantDmaChannels</a> (Int groupId, <a class="el" href="struct_i_a_l_g___obj.html">IALG_Handle</a> algHandle[], <a class="el" href="struct_i_d_m_a3___fxns.html">IDMA3_Fxns</a> *dmaFxns[], Int numAlgs)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add one or several algorithms to the DMA Manager. The DMA Manager will grant DMA resources to the algorithms as a result. This function is called when initializing XDAIS algorithm instances.  <a href="#ge0e5031bc5e947da1bd5d12cca1c5e00"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_s_p_d_m_a_n3.html#gc26a2a6153c50b10dc3ae9106bfa8594">DMAN3_exit</a> (Void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finalization method of the DMAN module.  <a href="#gc26a2a6153c50b10dc3ae9106bfa8594"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_s_p_d_m_a_n3.html#gee927c5ad460e5e5a122471ccb047db1">DMAN3_createChannels</a> (Int groupId, <a class="el" href="struct_i_d_m_a3___channel_rec.html">IDMA3_ChannelRec</a> dmaTab[], Int numChans)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocate and initialize memory for one or several channel handles.  <a href="#gee927c5ad460e5e5a122471ccb047db1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_s_p_d_m_a_n3.html#gf0a672c8ba5962dabc8b319978aafd3b">DMAN3_init</a> (Void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialization method of the DMAN3 module. <a class="el" href="group___d_s_p_d_m_a_n3.html#gf0a672c8ba5962dabc8b319978aafd3b">DMAN3_init()</a> uses externally configured and provided DMAN3_PARAMS to initialize DMAN3 resources (QDMA channel map, memory heap...).  <a href="#gf0a672c8ba5962dabc8b319978aafd3b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_s_p_d_m_a_n3.html#g664b5e2445c2ec3a0ed9e14f8cfc1d20">DMAN3_releaseDmaChannels</a> (<a class="el" href="struct_i_a_l_g___obj.html">IALG_Handle</a> algHandle[], <a class="el" href="struct_i_d_m_a3___fxns.html">IDMA3_Fxns</a> *dmaFxns[], Int numAlgs)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove logical channel resources from one or several algorithm instances.  <a href="#g664b5e2445c2ec3a0ed9e14f8cfc1d20"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_s_p_d_m_a_n3.html#g2d14c4952c1194b913ac6e8bb7f0e9d5">DMAN3_freeChannels</a> (<a class="el" href="struct_i_d_m_a3___obj.html">IDMA3_Handle</a> channelTab[], Int numChans)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Free memory for array of channel handles.  <a href="#g2d14c4952c1194b913ac6e8bb7f0e9d5"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">far <a class="el" href="struct_d_m_a_n3___params.html">DMAN3_Params</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_s_p_d_m_a_n3.html#g553609efedb936222e4492f0ffa3d1cc">DMAN3_PARAMS</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Default module configuration structure (defined in dman3.c).  <a href="#g553609efedb936222e4492f0ffa3d1cc"></a><br></td></tr>
</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="gc5bb90e4340386e641863309330e4fb5"></a><!-- doxytag: member="dman3.h::DMAN3_MAXDMARECS" ref="gc5bb90e4340386e641863309330e4fb5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DMAN3_MAXDMARECS&nbsp;&nbsp;&nbsp;32          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Maximum number of DMA handles allowed for a XDAIS algorithm. 
<p>
Definition at line <a class="el" href="dman3_8h-source.html#l00045">45</a> of file <a class="el" href="dman3_8h-source.html">dman3.h</a>.
</div>
</div><p>
<a class="anchor" name="gb4a261c271c8d0f1e9843eada6b263e8"></a><!-- doxytag: member="dman3.h::DMAN3_MAXGROUPS" ref="gb4a261c271c8d0f1e9843eada6b263e8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DMAN3_MAXGROUPS&nbsp;&nbsp;&nbsp;20          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Maximum number of groups for sharing TCCs and parameter RAM. 
<p>
Definition at line <a class="el" href="dman3_8h-source.html#l00048">48</a> of file <a class="el" href="dman3_8h-source.html">dman3.h</a>.
</div>
</div><p>
<a class="anchor" name="g462d3887266b42b69cf21c65e87dc99d"></a><!-- doxytag: member="dman3.h::DMAN3_SOK" ref="g462d3887266b42b69cf21c65e87dc99d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DMAN3_SOK&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
DMAN3 Status Code: Successful. 
<p>
Definition at line <a class="el" href="dman3_8h-source.html#l00057">57</a> of file <a class="el" href="dman3_8h-source.html">dman3.h</a>.
</div>
</div><p>
<a class="anchor" name="g70d091dae946805ff49ab47b903483a7"></a><!-- doxytag: member="dman3.h::DMAN3_EOUTOFMEMORY" ref="g70d091dae946805ff49ab47b903483a7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DMAN3_EOUTOFMEMORY&nbsp;&nbsp;&nbsp;-1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
DMAN3 Status Code: Failed to allocate memory for the handle. 
<p>
Definition at line <a class="el" href="dman3_8h-source.html#l00058">58</a> of file <a class="el" href="dman3_8h-source.html">dman3.h</a>.
</div>
</div><p>
<a class="anchor" name="ge81e9235f9755ac2e6a6279401c8798d"></a><!-- doxytag: member="dman3.h::DMAN3_EFAIL" ref="ge81e9235f9755ac2e6a6279401c8798d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DMAN3_EFAIL&nbsp;&nbsp;&nbsp;-2          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
DMAN3 Status Code: Unspecified error. 
<p>
Definition at line <a class="el" href="dman3_8h-source.html#l00060">60</a> of file <a class="el" href="dman3_8h-source.html">dman3.h</a>.
</div>
</div><p>
<a class="anchor" name="g097f382f6603cc69c2d998c0ce6b9dfe"></a><!-- doxytag: member="dman3.h::DMAN3_EFREE" ref="g097f382f6603cc69c2d998c0ce6b9dfe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DMAN3_EFREE&nbsp;&nbsp;&nbsp;-3          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
DMAN3 Status Code: Failed to free memory. 
<p>
Definition at line <a class="el" href="dman3_8h-source.html#l00061">61</a> of file <a class="el" href="dman3_8h-source.html">dman3.h</a>.
</div>
</div><p>
<a class="anchor" name="gb04511fe9f738b3a189758163e75f1d2"></a><!-- doxytag: member="dman3.h::DMAN3_EOUTOFTCCS" ref="gb04511fe9f738b3a189758163e75f1d2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DMAN3_EOUTOFTCCS&nbsp;&nbsp;&nbsp;-4          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
DMAN3 Status Code: Insufficient number of TCCs available to create channels. 
<p>
Definition at line <a class="el" href="dman3_8h-source.html#l00063">63</a> of file <a class="el" href="dman3_8h-source.html">dman3.h</a>.
</div>
</div><p>
<a class="anchor" name="g45977d32b34b6e98e33b6510c9164dee"></a><!-- doxytag: member="dman3.h::DMAN3_EOUTOFPARAMS" ref="g45977d32b34b6e98e33b6510c9164dee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DMAN3_EOUTOFPARAMS&nbsp;&nbsp;&nbsp;-5          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
DMAN3 Status Code: Insufficient number of PaRams available to create channels. 
<p>
Definition at line <a class="el" href="dman3_8h-source.html#l00066">66</a> of file <a class="el" href="dman3_8h-source.html">dman3.h</a>.
</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="gb88a4f4fc347844728e7c0d6b46c5ecf"></a><!-- doxytag: member="dman3.h::DMAN3_ScratchAllocFxn" ref="gb88a4f4fc347844728e7c0d6b46c5ecf" args="(IALG_Handle alg, Int mutexId, IALG_MemRec *memTab, Int numRecs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef Bool(*) <a class="el" href="group___d_s_p_d_m_a_n3.html#gb88a4f4fc347844728e7c0d6b46c5ecf">DMAN3_ScratchAllocFxn</a>(<a class="el" href="struct_i_a_l_g___obj.html">IALG_Handle</a> alg, Int mutexId, <a class="el" href="struct_i_a_l_g___mem_rec.html">IALG_MemRec</a> *memTab, Int numRecs)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Function prototype for allocating IDMA3 Object's env from shared scratch memory. Algorithms might specify a particular IDMA3 protocol that provides custom DMA services. This protocol might require extra memory for the IDMA3 object's environment. DMAN3_ScratchAllocFxn might be used to allocate this memory. If this is NULL, then the env will be allocated from persistent memory. 
<p>

<p>
Definition at line <a class="el" href="dman3_8h-source.html#l00080">80</a> of file <a class="el" href="dman3_8h-source.html">dman3.h</a>.
</div>
</div><p>
<a class="anchor" name="g5c51dee2c06d775005a8cf4db004782f"></a><!-- doxytag: member="dman3.h::DMAN3_ScratchFreeFxn" ref="g5c51dee2c06d775005a8cf4db004782f" args="(Int mutexId, Void *addr, Uns size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef Void(*) <a class="el" href="group___d_s_p_d_m_a_n3.html#g5c51dee2c06d775005a8cf4db004782f">DMAN3_ScratchFreeFxn</a>(Int mutexId, Void *addr, Uns size)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Function prototype for freeing IDMA3 Object's env from shared scratch memory. If this is NULL then env will be freed from persistent memory. 
<p>

<p>
Definition at line <a class="el" href="dman3_8h-source.html#l00088">88</a> of file <a class="el" href="dman3_8h-source.html">dman3.h</a>.
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="ge0e5031bc5e947da1bd5d12cca1c5e00"></a><!-- doxytag: member="dman3.h::DMAN3_grantDmaChannels" ref="ge0e5031bc5e947da1bd5d12cca1c5e00" args="(Int groupId, IALG_Handle algHandle[], IDMA3_Fxns *dmaFxns[], Int numAlgs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int DMAN3_grantDmaChannels           </td>
          <td>(</td>
          <td class="paramtype">Int&nbsp;</td>
          <td class="paramname"> <em>groupId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_i_a_l_g___obj.html">IALG_Handle</a>&nbsp;</td>
          <td class="paramname"> <em>algHandle</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_i_d_m_a3___fxns.html">IDMA3_Fxns</a> *&nbsp;</td>
          <td class="paramname"> <em>dmaFxns</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Int&nbsp;</td>
          <td class="paramname"> <em>numAlgs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add one or several algorithms to the DMA Manager. The DMA Manager will grant DMA resources to the algorithms as a result. This function is called when initializing XDAIS algorithm instances. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>groupId</em>&nbsp;</td><td>Group number for sharing TCCs and PaRAMs. Channels created with the same group number in a previous or subsequent call to this function will share the same TCCs and PaRam, as the channels created in this call, so they must be used simultaneously. The channels created in this function call, will not share TCCs and PaRam with eachother, even though they use the same group Id. When granting DMA resources for several algorithms (i.e. when numAlgs is greater than 1) these algorithms do not share TCCs and PaRAMs. If two algorithms can share TCCs and PaRAMs, two calls to <a class="el" href="group___d_s_p_d_m_a_n3.html#ge0e5031bc5e947da1bd5d12cca1c5e00">DMAN3_grantDmaChannels()</a> are needed. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>algHandle[]</em>&nbsp;</td><td>Array of algorithm handles. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dmaFxns[]</em>&nbsp;</td><td>Array of IDMA3 Interfaces associated with each algorithm handle. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>numAlgs</em>&nbsp;</td><td>Number of algorithms in algHandle array.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>DMAN3_SOK</em>&nbsp;</td><td>Success. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>DMAN3_EOUTOFMEMORY</em>&nbsp;</td><td>Failed to allocate logical handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>DMAN3_EFAIL</em>&nbsp;</td><td>Failed to initialize handle or dmaFxns dmaInit() failed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>DMAN3_EOUTOFTCCS</em>&nbsp;</td><td>Not enough TCCs available for channels. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>DMAN3_EOUTOFPARAMS</em>&nbsp;</td><td>Not enough PaRams available for channels.</td></tr>
  </table>
</dl>
<dl class="pre" compact><dt><b>Precondition:</b></dt><dd>groupId &lt; DMAN3_MAXGROUPS. <p>
Valid IALG_Handle. <p>
Valid <a class="el" href="struct_i_d_m_a3___fxns.html">IDMA3_Fxns</a> pointer. <p>
<code>IALG_Handle-&gt;fxns-&gt;implementationId == IDMA3_Fxns-&gt;implementationId</code> <p>
numberOfChannels returned by algorithm's dmaGetChannelCnt and dmaGetChannels is not greater than DMAN3_MAXDMARECS. DMAN3 supports only DMAN3_MAXDMARECS channels.</dd></dl>
<dl class="post" compact><dt><b>Postcondition:</b></dt><dd>DMAN3_SOK on successful allocation of IDMA3 logical handles. </dd></dl>

</div>
</div><p>
<a class="anchor" name="gc26a2a6153c50b10dc3ae9106bfa8594"></a><!-- doxytag: member="dman3.h::DMAN3_exit" ref="gc26a2a6153c50b10dc3ae9106bfa8594" args="(Void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Void DMAN3_exit           </td>
          <td>(</td>
          <td class="paramtype">Void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Finalization method of the DMAN module. 
<p>

</div>
</div><p>
<a class="anchor" name="gee927c5ad460e5e5a122471ccb047db1"></a><!-- doxytag: member="dman3.h::DMAN3_createChannels" ref="gee927c5ad460e5e5a122471ccb047db1" args="(Int groupId, IDMA3_ChannelRec dmaTab[], Int numChans)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int DMAN3_createChannels           </td>
          <td>(</td>
          <td class="paramtype">Int&nbsp;</td>
          <td class="paramname"> <em>groupId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_i_d_m_a3___channel_rec.html">IDMA3_ChannelRec</a>&nbsp;</td>
          <td class="paramname"> <em>dmaTab</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Int&nbsp;</td>
          <td class="paramname"> <em>numChans</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Allocate and initialize memory for one or several channel handles. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>groupId</em>&nbsp;</td><td>Group number for sharing TCCs and PaRAMs. Channels created with the same group number in a previous or subsequent call to this function will share the same TCCs and PaRam, as the channels created in this call, so they must be used simultaneously. The channels created in this function call, will not share TCCs and PaRam with eachother, even though they use the same group Id. If two channels can share TCCs and PaRAMS then two calls to <a class="el" href="group___d_s_p_d_m_a_n3.html#gee927c5ad460e5e5a122471ccb047db1">DMAN3_createChannels()</a> are needed. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dmaTab</em>&nbsp;</td><td>Array of IDMA3 channel resource descriptors containing the parameters of the requested channels. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>numChans</em>&nbsp;</td><td>Number of entries in dmaTab (ie, number of channels to create). </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>dmaTab</em>&nbsp;</td><td>On success assign valid and initialized IDMA3 logical DMA handle and environment (env, envSize) fields.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>DMAN3_SOK</em>&nbsp;</td><td>Success. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>DMAN3_EOUTOFMEMORY</em>&nbsp;</td><td>Failed to allocate logical handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>DMAN3_EFAIL</em>&nbsp;</td><td>Failed to initialize handle or dmaFxns dmaInit() failed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>DMAN3_EOUTOFTCCS</em>&nbsp;</td><td>Not enough TCCs available for channels. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>DMAN3_EOUTOFPARAMS</em>&nbsp;</td><td>Not enough PaRams available for channels.</td></tr>
  </table>
</dl>
<dl class="pre" compact><dt><b>Precondition:</b></dt><dd>Valid dmaTab structure. <p>
numChans &gt;= 0. <p>
groupId &lt; DMAN3_MAXGROUPS.</dd></dl>
<dl class="post" compact><dt><b>Postcondition:</b></dt><dd>On success, each handle in dmaTab[] will be set to a valid IDMA3_Handle. The 'env' field of the IDMA3_Handle will be set to newly allocated memory whose size is determined by the IDMA3_InitFxns passed in the dmaTab entry. On failure, the handle of each dmaTab[] entry will be NULL. </dd></dl>

</div>
</div><p>
<a class="anchor" name="gf0a672c8ba5962dabc8b319978aafd3b"></a><!-- doxytag: member="dman3.h::DMAN3_init" ref="gf0a672c8ba5962dabc8b319978aafd3b" args="(Void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Void DMAN3_init           </td>
          <td>(</td>
          <td class="paramtype">Void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialization method of the DMAN3 module. <a class="el" href="group___d_s_p_d_m_a_n3.html#gf0a672c8ba5962dabc8b319978aafd3b">DMAN3_init()</a> uses externally configured and provided DMAN3_PARAMS to initialize DMAN3 resources (QDMA channel map, memory heap...). 
<p>
<dl class="pre" compact><dt><b>Precondition:</b></dt><dd>DMAN3_PARAMS must be initialized </dd></dl>

</div>
</div><p>
<a class="anchor" name="g664b5e2445c2ec3a0ed9e14f8cfc1d20"></a><!-- doxytag: member="dman3.h::DMAN3_releaseDmaChannels" ref="g664b5e2445c2ec3a0ed9e14f8cfc1d20" args="(IALG_Handle algHandle[], IDMA3_Fxns *dmaFxns[], Int numAlgs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int DMAN3_releaseDmaChannels           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_a_l_g___obj.html">IALG_Handle</a>&nbsp;</td>
          <td class="paramname"> <em>algHandle</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_i_d_m_a3___fxns.html">IDMA3_Fxns</a> *&nbsp;</td>
          <td class="paramname"> <em>dmaFxns</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Int&nbsp;</td>
          <td class="paramname"> <em>numAlgs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Remove logical channel resources from one or several algorithm instances. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>algHandle[]</em>&nbsp;</td><td>Array of algorithm handles. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dmaFxns[]</em>&nbsp;</td><td>Array of IDMA3 Interfaces associated with the algorithm handles. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>numAlgs</em>&nbsp;</td><td>Number of algorithm handles in algHandle[].</td></tr>
  </table>
</dl>
<dl class="pre" compact><dt><b>Precondition:</b></dt><dd>algHandle is an array of valid IALG_Handle <p>
dmaFxns is an array of valid <a class="el" href="struct_i_d_m_a3___fxns.html">IDMA3_Fxns</a> pointer <p>
<code>IALG_Handle-&gt;fxns-&gt;implementationId == IDMA2_Fxns-&gt;implementationId</code> <p>
numberOfChannels returned by algorithm's dmaGetChannelCnt and dmaGetChannels is &gt;= 0 and not greater than DMAN3_MAXDMARECS. In other words, DMAN3 supports only DMAN3_MAXDMARECS channels.</dd></dl>
<dl class="post" compact><dt><b>Postcondition:</b></dt><dd>Handle and environment memory and allocated resources are freed/released. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g2d14c4952c1194b913ac6e8bb7f0e9d5"></a><!-- doxytag: member="dman3.h::DMAN3_freeChannels" ref="g2d14c4952c1194b913ac6e8bb7f0e9d5" args="(IDMA3_Handle channelTab[], Int numChans)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int DMAN3_freeChannels           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_d_m_a3___obj.html">IDMA3_Handle</a>&nbsp;</td>
          <td class="paramname"> <em>channelTab</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Int&nbsp;</td>
          <td class="paramname"> <em>numChans</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Free memory for array of channel handles. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>channelTab</em>&nbsp;</td><td>Array of IDMA3 handles representing logical dma channel state. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>numChans</em>&nbsp;</td><td>Number of entries in channelTab (ie, number of channels to free).</td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>DMAN3_SOK</em>&nbsp;</td><td>Success.</td></tr>
  </table>
</dl>
<dl class="pre" compact><dt><b>Precondition:</b></dt><dd>numChans &gt;= 0. <p>
Valid IDMA3 logical channel handles or numChans == 0.</dd></dl>
<dl class="post" compact><dt><b>Postcondition:</b></dt><dd>'handle' and 'env' memory freed for each channel. </dd></dl>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="g553609efedb936222e4492f0ffa3d1cc"></a><!-- doxytag: member="dman3.h::DMAN3_PARAMS" ref="g553609efedb936222e4492f0ffa3d1cc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">far <a class="el" href="struct_d_m_a_n3___params.html">DMAN3_Params</a> <a class="el" href="group___d_s_p_d_m_a_n3.html#g553609efedb936222e4492f0ffa3d1cc">DMAN3_PARAMS</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Default module configuration structure (defined in dman3.c). 
<p>

</div>
</div><p>
<hr size="1"><small>
Copyright  2007, Texas Instruments Incorporated</small>
</body>
</html>
